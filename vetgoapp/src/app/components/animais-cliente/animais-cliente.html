<div class="container">
  <!-- Informações do Responsável e Painel de Controle -->
  <div class="header-section">
    <div class="responsavel-info" *ngIf="responsavel && responsavel.usuario">
      <h2>Todos os Animais de {{ responsavel.usuario.nomeUsuario }}</h2>
    </div>
    <div class="controls-panel">
      <div class="search-box">
        <input type="text" placeholder="Buscar Pacientes" />
      </div>
      <a class="add-button" routerLink="/form-pet" [queryParams]="{ responsavelId: responsavel.id }">
        Adicionar pet
      </a>
    </div>
  </div>

  <div class="main-layout">
    <div class="left-panel">
      <!-- Lista de Pacientes do Responsável -->
      <div *ngIf="pacientes.length > 0; else noPacientes">
        <div *ngFor="let paciente of pacientes" class="paciente-card-container">
          <div class="paciente-card">
            <div class="paciente-header">
              <h3>Nome: {{ paciente.nome }}</h3>
            </div>
            <div class="paciente-details">
              <p>Tipo: {{ paciente.especie }}</p>
              <p>Raça: {{ paciente.raca }}</p>
              <p>Gênero: {{ paciente.sexo }}</p>
            </div>
            <div class="atendimento-actions">
              <button class="action-button atestado">Atestado</button>
              <button class="action-button pedir-exame">Pedir Exame</button>
              <button class="action-button medicamento">Medicamento</button>
            </div>
          </div>
          <span class="status-button" [class.vivo]="paciente.situacao === 'VIVO'" [class.morto]="paciente.situacao === 'MORTO'">{{ paciente.situacao }}</span>
        </div>
      </div>
    </div>
    
    <div class="right-panel">
      <!-- Painel de Atendimentos -->
      <h3>Atendimentos</h3>
      <div *ngIf="pacientes.length > 0">
        <ul>
          <li *ngFor="let atendimento of getAtendimentosDePaciente(pacientes[0].id)" class="atendimento-item">
            Data {{ atendimento.dataDeAtendimento }}
          </li>
        </ul>
      </div>
      <ng-template #noAtendimentos>
        <p class="info-message">Nenhum atendimento encontrado.</p>
      </ng-template>
    </div>
  </div>

  <!-- Mensagem se não houver pacientes -->
  <ng-template #noPacientes>
    <div class="no-results-message">
      <p>Nenhum animal encontrado para este responsável.</p>
    </div>
  </ng-template>
</div>
