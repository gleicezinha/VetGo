<div class="modal-content">
  <div class="modal-header">
    <h3>Registrar Pagamento para o Atendimento #{{ atendimentoAtual.id }}</h3>
    <button (click)="onClose()">X</button>
  </div>
  <div class="modal-body">
    <form (ngSubmit)="salvarPagamento()">

      <h4>Detalhes do Pagamento</h4>
      <div class="form-group">
        <label for="descricaoProcedimento">Descrição dos Procedimentos</label>
        <textarea id="descricaoProcedimento" [(ngModel)]="descricaoProcedimento" name="descricaoProcedimento" rows="3"></textarea>
      </div>
      
      <div class="form-group">
        <label for="valorTotal">Valor Total</label>
        <input type="number" id="valorTotal" [(ngModel)]="valorTotal" name="valorTotal" (input)="calcularSaldo()" required>
      </div>

      <div class="form-group">
        <label for="valorPago">Valor Pago</label>
        <input type="number" id="valorPago" [(ngModel)]="valorPago" name="valorPago" (input)="calcularSaldo()" required>
      </div>

      <div class="resumo-pagamento">
        <p><strong>Valor Total dos Procedimentos:</strong> {{ valorTotal | currency:'BRL' }}</p>
      </div>

      <div class="resumo-final">
        <p [ngClass]="{'pendente': saldoRestante > 0, 'pago': saldoRestante <= 0}">
          <strong>Saldo Restante:</strong> {{ saldoRestante | currency:'BRL' }}
        </p>
        <p class="status-pagamento">
          <strong>Status:</strong>
          <span *ngIf="saldoRestante > 0">Pendente</span>
          <span *ngIf="saldoRestante <= 0">Pago</span>
        </p>
      </div>

      <div class="modal-footer">
        <button type="submit" class="salvar-btn">Salvar Pagamento</button>
      </div>
    </form>
  </div>
</div>